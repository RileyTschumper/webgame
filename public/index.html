<!DOCTYPE html>
<html>

<head>
    <title>Minesweeper</title>

    <script type="application/javascript" src="https://code.createjs.com/1.0.0/createjs.min.js"></script>
    <script type="application/javascript" src="scripts/script.js"></script>
    <script type="application/javascript" src="scripts/cell.js"></script>
    <script type="application/javascript" src="lib/easytimer/dist/easytimer.js"></script>
    <script type="application/javascript"
        src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script type="application/javascript" src="https://cdn.jsdelivr.net/npm/vue"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script type="application/javascript">
        var username = "|||USER|||";
    </script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css" />
</head>

<body onload="init()">
    <div id="app">
        <div id="overlay" onclick="removeOverlay()">
            <div id="start_text">Click to Start</div>
        </div>
        <div class="row">
            <div class="col-sm-8" style="display: flex; justify-content: center; align-items: center;">
                <div>
                    <canvas oncontextmenu="return false;" id="canvas" width="640" height="480"></canvas>
                
                    <div id="timer" align="center">
                        <div class="values">00:00:00</div>
                    </div>
                    <div align="center">
                        <button onclick="changeDifficulty(0)">Beginner</button>
                        <button onclick="changeDifficulty(1)">Novice</button>
                        <button onclick="changeDifficulty(2)">Expert</button>
                    </div>
                </div>
            </div>
            <div class="col-sm-4 mx-auto">
                <h2> Current Users Online </h2>
                <ul>
                    <li v-for="user in users"> {{ user }}</li>
                </ul>
                <h2> Beginner Leaderboard </h2>
                <ol>
                    <li v-for="leaderBeginner in leaderboardBeginner" @click="showModalFunction(leaderBeginner.username)">
                        {{ leaderBeginner.username }} {{ leaderBeginner.time }}</li>
                </ol>
                <h2> Novice Leaderboard </h2>
                <ol>
                    <li v-for="leaderNovice in leaderboardNovice" @click="showModalFunction(leaderNovice.username)">
                        {{ leaderNovice.username }} {{ leaderNovice.time }}</li>
                </ol>
                <h2> Expert Leaderboard </h2>
                <ol>
                    <li v-for="leaderExpert in leaderboardExpert" @click="showModalFunction(leaderExpert.username)">
                        {{ leaderExpert.username }} {{ leaderExpert.time }}</li>
                </ol>
                <div id="userModal" class="modal">
                    <div class="modal-content">
                        <span onclick="closeModal()" class="close">&times;</span>
                        <img v-bind:src="currentUserAvatar"/>
                        <h1> {{ currentUserModal }} </h1>
                        <table>
                            <tr>
                                <th>Difficulty</th>
                                <th>Best Time</th>
                                <th>Games Played</th>
                            </tr>
                            <tr v-for="item in currentUserStatsModal">
                                <td> {{ item.difficulty }} </td>
                                <td> {{ item.time }} </td>
                                <td> {{ item.games_played }} </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <h4 align="center">Chat Rooms</h4>
        <div class="row justify-content-md-center">
        <!--<div class="col-md-auto" v-for="groups in chatGroups">
            <h5>Group: <span >{{ groups }}</span></h5> -->
            <input id="group" type="text" />
            <button onclick="bjoin()">Click to join a group</button>
            <!-- <button @click="bjoin(groups)">Join {{ groups }}</button><br> 
            </div> -->
        </div>
        <div align="center" v-if="showChat">
            <h4> You are now in the {{ currentGroup }} lobby! </h4>
            <input v-bind:id="currentGroup" type="text" />
            <button onclick="sendMessage()">Send Message</button>
            <div class="row justify-content-md-center">
                <div class="chat_container col-md-8" v-for="messages in chats">
                    <p> {{ messages }} </p>
                </div>
            </div>
            <!--
            <ul v-for="messages in chats">
                <div class="row justify-content-md-center">
                    <div class="col-md-auto">
                        <li> {{ messages }}</li>
                    </div>
                </div>
            </ul>
            -->
        </div>
    </div>
</body>

</html>
